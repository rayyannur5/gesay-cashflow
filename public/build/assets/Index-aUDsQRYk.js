import{r as d,j as e,H as z,a as m}from"./app-DUWjG-6a.js";import{A}from"./AuthenticatedLayout-C2pqy8tC.js";import{C as f,e as g,a as L,b as H,B as t}from"./button-BWY58xbn.js";import{L as x,I as N}from"./label-BUGVscvC.js";import{T as O,D as P,a as R,b as $,c as W,d as q,e as M}from"./dialog-4zBuSsmK.js";import{T as G,a as K,b as y,c as i,d as U,e as o}from"./table-wh01RLgy.js";import{B as v}from"./badge-DzYJ36Mf.js";import{c as w,W as C}from"./wallet-BB8pzZv-.js";import{P as Y}from"./plus-_r1EMer9.js";import"./transition-JCV-Tk4J.js";import"./index-KJV2KXD7.js";import"./index-DTbb3uOn.js";import"./index-CUAFPwAC.js";const J=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Q=w("pen",J);const V=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],b=w("star",V),k=c=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(c),X=["ðŸ’µ","ðŸ¦","ðŸ“±","ðŸ’³","ðŸª™","ðŸ’°","ðŸ”","ðŸŽ¯","ðŸ ","ðŸš—"],Z=["#22C55E","#3B82F6","#8B5CF6","#F59E0B","#EF4444","#EC4899","#14B8A6","#6366F1","#64748B","#0EA5E9"];function he({balances:c,totalBalance:D}){const[B,l]=d.useState(!1),[n,j]=d.useState(null),[T,h]=d.useState(null),[a,r]=d.useState({name:"",icon:"ðŸ’µ",color:"#22C55E",amount:"",is_default:!1}),u=()=>{r({name:"",icon:"ðŸ’µ",color:"#22C55E",amount:"",is_default:!1}),j(null)},S=()=>{u(),l(!0)},E=s=>{j(s),r({name:s.name,icon:s.icon,color:s.color,amount:s.amount.toString(),is_default:s.is_default}),l(!0)},_=s=>{s.preventDefault();const p={...a,amount:parseFloat(a.amount)||0};n?m.put(route("balances.update",n.id),p,{onSuccess:()=>{l(!1),u()}}):m.post(route("balances.store"),p,{onSuccess:()=>{l(!1),u()}})},F=s=>{m.delete(route("balances.destroy",s),{onSuccess:()=>h(null)})},I=s=>{m.post(route("balances.setDefault",s.id))};return e.jsxs(A,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dompet"}),e.jsx("p",{className:"text-sky-100 text-sm mt-1",children:"Kelola dompet dan rekening kamu"})]}),e.jsxs(P,{open:B,onOpenChange:l,children:[e.jsx(R,{asChild:!0,children:e.jsxs(t,{className:"shadow-lg",onClick:S,children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Tambah Dompet"]})}),e.jsxs($,{children:[e.jsxs(W,{children:[e.jsx(q,{children:n?"Edit Dompet":"Tambah Dompet Baru"}),e.jsx(M,{children:n?"Update informasi dompet":"Tambahkan dompet atau rekening baru"})]}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"name",children:"Nama Dompet"}),e.jsx(N,{id:"name",value:a.name,onChange:s=>r({...a,name:s.target.value}),placeholder:"Cash, Bank BCA, GoPay...",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Icon"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(s=>e.jsx("button",{type:"button",onClick:()=>r({...a,icon:s}),className:`w-10 h-10 text-xl rounded-lg border-2 transition-all ${a.icon===s?"border-sky-500 bg-sky-50":"border-gray-200 hover:border-sky-300"}`,children:s},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Warna"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(s=>e.jsx("button",{type:"button",onClick:()=>r({...a,color:s}),className:`w-8 h-8 rounded-full border-2 transition-all ${a.color===s?"border-sky-500 scale-110":"border-transparent"}`,style:{backgroundColor:s}},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"amount",children:"Saldo Awal"}),e.jsx(N,{id:"amount",type:"number",value:a.amount,onChange:s=>r({...a,amount:s.target.value}),placeholder:"0",min:"0",step:"1000",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),e.jsx(t,{type:"submit",children:n?"Simpan":"Tambah"})]})]})]})]})]}),children:[e.jsx(z,{title:"Balances"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 space-y-6",children:[e.jsx(f,{className:"bg-gradient-to-r from-sky-500 to-sky-600 text-white border-0",children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center",children:e.jsx(C,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sky-100 text-sm",children:"Total Saldo"}),e.jsx("p",{className:"text-3xl font-bold",children:k(D)})]})]})})}),e.jsxs(f,{children:[e.jsx(L,{children:e.jsx(H,{children:"Daftar Balance"})}),e.jsx(g,{children:c.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(C,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Belum ada balance"}),e.jsx("p",{className:"text-sm",children:"Tambahkan dompet atau rekening pertamamu"})]}):e.jsxs(G,{children:[e.jsx(K,{children:e.jsxs(y,{children:[e.jsx(i,{children:"Balance"}),e.jsx(i,{className:"text-right",children:"Saldo"}),e.jsx(i,{className:"text-center",children:"Transaksi"}),e.jsx(i,{className:"text-center",children:"Status"}),e.jsx(i,{className:"text-right",children:"Aksi"})]})}),e.jsx(U,{children:c.map(s=>e.jsxs(y,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-lg",style:{backgroundColor:`${s.color}20`},children:s.icon}),e.jsx("span",{className:"font-medium",children:s.name})]})}),e.jsx(o,{className:"text-right font-semibold",children:k(s.amount)}),e.jsx(o,{className:"text-center",children:e.jsxs(v,{variant:"secondary",children:[s.transactions_count," transaksi"]})}),e.jsx(o,{className:"text-center",children:s.is_default?e.jsxs(v,{className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100",children:[e.jsx(b,{className:"w-3 h-3 mr-1 fill-yellow-500"}),"Default"]}):e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>I(s),className:"text-gray-500 hover:text-yellow-600",children:e.jsx(b,{className:"w-4 h-4"})})}),e.jsx(o,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>E(s),children:e.jsx(Q,{className:"w-4 h-4"})}),T===s.id?e.jsxs("div",{className:"flex gap-1",children:[e.jsx(t,{variant:"destructive",size:"sm",onClick:()=>F(s.id),disabled:s.transactions_count>0,children:"Ya"}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>h(null),children:"Tidak"})]}):e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>h(s.id),disabled:s.transactions_count>0,className:"text-red-500 hover:text-red-700",children:e.jsx(O,{className:"w-4 h-4"})})]})})]},s.id))})]})})]})]})})]})}export{he as default};
