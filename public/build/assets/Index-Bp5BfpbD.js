import{r as d,u as M,j as e,H as U,a as z}from"./app-DUWjG-6a.js";import{A as R}from"./AuthenticatedLayout-C2pqy8tC.js";import{C as v,a as C,b as w,e as D,B as t}from"./button-BWY58xbn.js";import{B as x}from"./badge-DzYJ36Mf.js";import{L as o,I as J}from"./label-BUGVscvC.js";import{D as B,b as E,c as P,d as T,e as O,f as F,T as W}from"./dialog-4zBuSsmK.js";import{T as u,a as j}from"./trending-up-CRiNccQp.js";import{P as q}from"./plus-_r1EMer9.js";import{P as G}from"./pencil-ZEDbNTQg.js";import"./transition-JCV-Tk4J.js";import"./wallet-BB8pzZv-.js";import"./index-KJV2KXD7.js";import"./index-DTbb3uOn.js";import"./index-CUAFPwAC.js";const Q=["ðŸ’°","ðŸ’¼","ðŸ’»","ðŸ“ˆ","ðŸŽ","ðŸ’µ","ðŸ ","ðŸš—","ðŸ”","ðŸ›’","ðŸ“„","ðŸŽ®","ðŸ’Š","ðŸ“š","âœˆï¸","ðŸŽ¬","ðŸŽµ","ðŸ‘•","ðŸ’„","âš¡","ðŸ“±","ðŸ‹ï¸","ðŸ•","ðŸŽ‚","â˜•","ðŸ•","ðŸšŒ","ðŸ¥","ðŸ“¦","ðŸ”§"],V=["#EF4444","#F97316","#F59E0B","#84CC16","#22C55E","#10B981","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#D946EF","#EC4899","#F43F5E","#64748B"];function xe({categories:g}){const[S,l]=d.useState(!1),[K,c]=d.useState(!1),[i,f]=d.useState(null),[n,y]=d.useState(null),{data:a,setData:r,post:A,put:I,processing:N,errors:k,reset:m}=M({name:"",type:"expense",icon:"ðŸ’°",color:"#0EA5E9"}),h=g.filter(s=>s.type==="income"),p=g.filter(s=>s.type==="expense"),H=()=>{m(),f(null),l(!0)},_=s=>{f(s),r({name:s.name,type:s.type,icon:s.icon,color:s.color}),l(!0)},$=s=>{s.preventDefault(),i?I(route("categories.update",i.id),{onSuccess:()=>{l(!1),m()}}):A(route("categories.store"),{onSuccess:()=>{l(!1),m()}})},L=()=>{n&&z.delete(route("categories.destroy",n.id),{onSuccess:()=>{c(!1),y(null)}})},b=({category:s})=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-sky-50/50 to-transparent hover:from-sky-100/50 transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl shadow-md transition-transform group-hover:scale-110",style:{backgroundColor:s.color+"20"},children:s.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sky-900",children:s.name}),e.jsxs("p",{className:"text-sm text-sky-500",children:[s.transactions_count," transaksi"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full shadow-inner",style:{backgroundColor:s.color}}),e.jsx(t,{variant:"ghost",size:"icon",onClick:()=>_(s),children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx(t,{variant:"ghost",size:"icon",onClick:()=>{y(s),c(!0)},disabled:s.transactions_count>0,children:e.jsx(W,{className:`w-4 h-4 ${s.transactions_count>0?"text-gray-300":"text-red-500"}`})})]})]});return e.jsxs(R,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Kategori"}),e.jsx("p",{className:"text-sky-100 text-sm mt-1",children:"Kelola kategori pemasukan dan pengeluaran"})]}),e.jsxs(t,{className:"shadow-lg",onClick:H,children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Tambah Kategori"]})]}),children:[e.jsx(U,{title:"Kategori"}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(v,{children:[e.jsx(C,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center",children:e.jsx(u,{className:"w-4 h-4 text-emerald-600"})}),"Kategori Pemasukan",e.jsx(x,{variant:"income",className:"ml-auto",children:h.length})]})}),e.jsx(D,{children:h.length>0?e.jsx("div",{className:"space-y-3",children:h.map(s=>e.jsx(b,{category:s},s.id))}):e.jsxs("div",{className:"text-center py-8 text-sky-400",children:[e.jsx(u,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Belum ada kategori pemasukan"})]})})]}),e.jsxs(v,{children:[e.jsx(C,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(j,{className:"w-4 h-4 text-red-600"})}),"Kategori Pengeluaran",e.jsx(x,{variant:"expense",className:"ml-auto",children:p.length})]})}),e.jsx(D,{children:p.length>0?e.jsx("div",{className:"space-y-3",children:p.map(s=>e.jsx(b,{category:s},s.id))}):e.jsxs("div",{className:"text-center py-8 text-sky-400",children:[e.jsx(j,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Belum ada kategori pengeluaran"})]})})]})]})}),e.jsx(B,{open:S,onOpenChange:l,children:e.jsxs(E,{children:[e.jsxs(P,{children:[e.jsx(T,{children:i?"Edit Kategori":"Tambah Kategori"}),e.jsx(O,{children:i?"Ubah data kategori yang sudah ada":"Buat kategori baru untuk transaksi"})]}),e.jsxs("form",{onSubmit:$,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Tipe"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>r("type","income"),className:`p-3 rounded-xl border-2 transition-all duration-200 flex items-center justify-center gap-2 ${a.type==="income"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-sky-200 hover:border-sky-300 text-sky-600"}`,children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Pemasukan"})]}),e.jsxs("button",{type:"button",onClick:()=>r("type","expense"),className:`p-3 rounded-xl border-2 transition-all duration-200 flex items-center justify-center gap-2 ${a.type==="expense"?"border-red-500 bg-red-50 text-red-700":"border-sky-200 hover:border-sky-300 text-sky-600"}`,children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Pengeluaran"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Nama Kategori"}),e.jsx(J,{placeholder:"Contoh: Makanan",value:a.name,onChange:s=>r("name",s.target.value)}),k.name&&e.jsx("p",{className:"text-sm text-red-500",children:k.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Ikon"}),e.jsx("div",{className:"flex flex-wrap gap-2 p-3 border-2 border-sky-200 rounded-xl max-h-32 overflow-y-auto",children:Q.map(s=>e.jsx("button",{type:"button",onClick:()=>r("icon",s),className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all ${a.icon===s?"bg-sky-500 shadow-lg scale-110":"hover:bg-sky-100"}`,children:s},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Warna"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(s=>e.jsx("button",{type:"button",onClick:()=>r("color",s),className:`w-8 h-8 rounded-full transition-all ${a.color===s?"ring-4 ring-sky-300 scale-110":"hover:scale-110"}`,style:{backgroundColor:s}},s))})]}),e.jsxs("div",{className:"p-4 bg-sky-50 rounded-xl",children:[e.jsx(o,{className:"text-sky-500 text-xs",children:"Preview"}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:a.color+"20"},children:a.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sky-900",children:a.name||"Nama Kategori"}),e.jsx(x,{variant:a.type==="income"?"income":"expense",children:a.type==="income"?"Pemasukan":"Pengeluaran"})]})]})]}),e.jsxs(F,{children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),e.jsx(t,{type:"submit",disabled:N,children:N?"Menyimpan...":i?"Update":"Simpan"})]})]})]})}),e.jsx(B,{open:K,onOpenChange:c,children:e.jsxs(E,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Hapus Kategori"}),e.jsx(O,{children:"Apakah kamu yakin ingin menghapus kategori ini?"})]}),n&&e.jsx("div",{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-sky-50",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:n.color+"20"},children:n.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sky-900",children:n.name}),e.jsx(x,{variant:n.type==="income"?"income":"expense",children:n.type==="income"?"Pemasukan":"Pengeluaran"})]})]})}),e.jsxs(F,{children:[e.jsx(t,{variant:"outline",onClick:()=>c(!1),children:"Batal"}),e.jsx(t,{variant:"destructive",onClick:L,children:"Hapus"})]})]})})]})}export{xe as default};
